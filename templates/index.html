<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>효도 비디오</title>

    <link rel="stylesheet" href="{{ url_for('static', path='css/app.css') }}" />
  </head>

  <body>
    <h1>할머니 동영상 목록</h1>

    {% if warnings %}
    <div class="warning" role="alert">
      <strong>재생 불가능한 파일이 {{ warnings|length }}개 있습니다.</strong><br />
      필요하면 가족에게 확인 요청하세요.
    </div>
    {% endif %}

    <div class="grid" role="list">
      {% for video in videos %}
      <div
        class="video-card"
        role="listitem"
        tabindex="0"
        data-path="{{ video.path }}"
        data-name="{{ video.name }}"
        aria-label="동영상 재생: {{ video.name }}"
      >
        <div class="play-icon" aria-hidden="true">▶</div>
        <div>
          <p class="title">{{ video.name }}</p>
        </div>
      </div>
      {% else %}
      <p class="empty">동영상이 없습니다.</p>
      {% endfor %}
    </div>

    <div id="player-overlay" aria-hidden="true">
      <div class="player-topbar">
        <button class="btn btn-danger" id="btn-close" type="button">닫기</button>
      </div>
      <video id="video-player" controls playsinline></video>
    </div>

    <script src="{{ url_for('static', path='js/app.js') }}" defer></script>
  </body>
</html>
